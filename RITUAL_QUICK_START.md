# üåÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –†–∏—Ç—É–∞–ª—ã

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª `ritual_config.py` –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤ —Ä–∏—Ç—É–∞–ª–æ–≤
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ MAX API
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–∏—Ç—É–∞–ª–æ–≤
5. ‚úÖ –í—Å—ë –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ `longpolling_bot.py`

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install APScheduler==3.10.4
```

–∏–ª–∏

```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
python longpolling_bot.py
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∏—Ç—É–∞–ª–æ–≤!

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä–µ–º—è —Ä–∏—Ç—É–∞–ª–æ–≤

–í MAX –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É:

```
/start
```

–ó–∞—Ç–µ–º –≤–≤–µ–¥–∏—Ç–µ:
- –í—Ä–µ–º—è —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–∏—Ç—É–∞–ª–∞: `08:00`
- –í—Ä–µ–º—è –≤–µ—á–µ—Ä–Ω–µ–≥–æ —Ä–∏—Ç—É–∞–ª–∞: `21:00`

–ì–æ—Ç–æ–≤–æ! üéâ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ 94717924 –Ω–∞ –≤–∞—à ID
python test_ritual.py 94717924 morning
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –≤—ã–≤–æ–¥–∏—Ç—å –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É:

```
üïê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Ç—É–∞–ª–æ–≤: 08:00
```

–ö–æ–≥–¥–∞ –ø—Ä–∏–¥–µ—Ç –≤—Ä–µ–º—è —Ä–∏—Ç—É–∞–ª–∞:

```
üåÖ –í—Ä–µ–º—è —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–∏—Ç—É–∞–ª–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 94717924
‚úÖ –†–∏—Ç—É–∞–ª morning –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 94717924
```

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ `ritual_config.py` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:

```python
RITUALS = {
    "morning": {
        "text": "–í–∞—à –Ω–æ–≤—ã–π —É—Ç—Ä–µ–Ω–Ω–∏–π —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å",
        "image_path": "pictures/ritual_pig.jpg"
    },
    "evening": {
        "text": "–í–∞—à –Ω–æ–≤—ã–π –≤–µ—á–µ—Ä–Ω–∏–π —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å",
        "image_path": "pictures/ritual_pig.jpg"
    }
}
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∏—Ç—É–∞–ª

1. **–í –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è** –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å:
   - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
   - –ö–∞—Ä—Ç–∏–Ω–∫–æ–π –∏–∑ –ø–∞–ø–∫–∏ `pictures/`
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –∫–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ (1-7)

2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç** —Ü–∏—Ñ—Ä–æ–π –æ—Ç 1 –¥–æ 7

3. **–ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç** –æ—Ç–≤–µ—Ç –≤ –ë–î –∏ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üî• –¢–µ–∫—É—â–∏–µ —Ç–µ–∫—Å—Ç—ã

### –£—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∏—Ç—É–∞–ª üåÖ

```
–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å? –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å
```

### –í–µ—á–µ—Ä–Ω–∏–π —Ä–∏—Ç—É–∞–ª üåô

```
–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä! –ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å? –ø–æ–¥ –≤–µ—á–µ—Ä –Ω—É–∂–Ω–æ —Ä–∞—Å—Å–ª–∞–±–ª—è—Ç—å—Å—è –∏ —É—Å–ø–æ–∫–∞–∏–≤–∞—Ç—å—Å—è
```

### –®–∫–∞–ª–∞ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è

1 - –ê–ø–∞—Ç–∏—è  
2 - –ü–∞—Å—Å–∏–≤–Ω–æ—Å—Ç—å  
3 - –†–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω–æ—Å—Ç—å  
4 - –ë–∞–ª–∞–Ω—Å ‚≠ê  
5 - –í–∫–ª—é—á–µ–Ω–Ω–æ—Å—Ç—å  
6 - –ü–µ—Ä–µ–≤–æ–∑–±—É–∂–¥–µ–Ω–Ω–æ—Å—Ç—å  
7 - –ü–∞–Ω–∏–∫–∞  

## üé® –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è —É—Ç—Ä–∞ –∏ –≤–µ—á–µ—Ä–∞:

```python
RITUALS = {
    "morning": {
        "text": "...",
        "image_path": os.path.join(BASE_DIR, "pictures", "morning_pic.jpg")
    },
    "evening": {
        "text": "...",
        "image_path": os.path.join(BASE_DIR, "pictures", "evening_pic.jpg")
    }
}
```

–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –ø–∞–ø–∫—É `pictures/` –∏ —É–∫–∞–∂–∏—Ç–µ –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—è!

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–∏—Ç—É–∞–ª—ã
sudo docker exec -it tasker_max_db psql -U tasker_user -d tasker -c "
SELECT max_user_id, morning_ritual_time, evening_ritual_time 
FROM users 
WHERE onboarding_step = 'completed';
"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å–∏ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è
sudo docker exec -it tasker_max_db psql -U tasker_user -d tasker -c "
SELECT user_id, mood_level, ritual_type, logged_at 
FROM mood_logs 
ORDER BY logged_at DESC 
LIMIT 10;
"
```

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ë–î –∑–∞–ø—É—â–µ–Ω–∞:**
   ```bash
   sudo docker ps | grep tasker_max_db
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞:
   ```
   ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∏—Ç—É–∞–ª–æ–≤ –∑–∞–ø—É—â–µ–Ω (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
   ```bash
   ls -la pictures/ritual_pig.jpg
   ```

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é:**
   ```bash
   python test_ritual.py YOUR_USER_ID morning
   ```

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ `RITUALS_GUIDE.md` –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

---

**–ì–æ—Ç–æ–≤–æ!** –†–∏—Ç—É–∞–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üéâ



